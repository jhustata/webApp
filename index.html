<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Creatinine Predicition</title>

  <link rel="stylesheet" href="./assets/css/style.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>

  <main>
    <div class="main-content">

      <!-- Mortality Risk Calculator -->
      <div id="mortalityRiskCalculator">
        <h2>Mortality Risk Calculator</h2>
        <form id="mortalityRiskForm">
          <label for="age">Age:</label>
          <input type="number" id="age" name="age" required><br><br>

          <label for="gender">Gender:</label>
          <select id="gender" name="gender" required>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select><br><br>

          <label for="smoking">Smoking (packs per day):</label>
          <input type="number" id="smoking" name="smoking" min="0" step="0.1" required><br><br>

          <label for="cholesterol">Cholesterol (mg/dL):</label>
          <input type="number" id="cholesterol" name="cholesterol" min="0" required><br><br>

          <button type="button" onclick="calculateMortalityRisk()">Calculate</button>
        </form>

        <div id="results">
          <h3>Results</h3>
          <p id="mortalityRisk"></p>
        </div>
      </div>

      <!-- Post-Donation Kidney Function Calculator -->
      <article class="main-page active" data-page="about">
        <section class="patient-data">
          <div class="calculator-title">
            <h3 class="h3 tech-title">Post-Donation Kidney Function Calculator</h3>
            <p>This calculator predicts 6-month post-donation kidney function for adult individuals considering living kidney donation.</p>
          </div>

          <div id="rectangle">
            <p class="results-description" id="predicted-creatinine"><span id="predicted-creatinine-result"></span><span style="font-size: 20px; font-weight: 100;"> mg/dL</span></p>
            <p>Predicted 6-month post-donation creatinine</p>
          </div>
          <div id="rectangle">
            <p class="results-description" id="expected-eGFRcr"><span id="expected-eGFRcr-result"></span><span style="font-size: 20px; font-weight: 100;"> mL/min/1.73m<sup>2</sup></span></p>
            <p>Expected 6-month post-donation eGFRcr</p>
          </div>
          
          <form id="myForm">
            <div class="form-field input-group mb-3">
              <label class="form-field-label" for="cars">Creatinine:</label>
              <span class="input-field">
                <input class="select-field" required type="number" id="creatinine" value="creatinine" name="creatinine" min="0.30" max="1.50" step="0.01">
                <span class="input-group-text" id="basic-addon2">mg/dL</span>
              </span>
            </div>

            <div class="form-field input-group mb-3">
              <label class="form-field-label" for="cars">Age:</label>
              <span class="input-field">
                <input class="select-field" required type="number" id="age" value="age" name="age" min="18" max="85" step="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                <span class="input-group-text" id="basic-addon2">Years</span>
              </span>
            </div>

            <div class="form-field">            
              <label class="form-field-label" for="cars">Sex:</label>
  
              <div class="button-bar gender">
                <a class="button button-male active" type="button" value="male" onclick="setActiveGender('male')">Male</a>
                <a class="button button-female" type="button" value="female" onclick="setActiveGender('female')">Female</a>
              </div>
            </div>
          
            <div class="form-field input-group mb-3">
              <label class="form-field-label" for="cars">BMI:</label>
                <span class="input-field">
                  <input class="select-field" required type="number" id="bmi" value="bmi" title="Please enter a valid integer value."   name="bmi" min="15" max="40" step="1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
                  <span class="input-group-text" id="basic-addon2">kg/m<sup>2</sup></span>
                </span>
            </div>

            <div class="form-field input-group mb-3">
              <label class="form-field-label" for="cars">Height:</label>
              <span class="input-field">
                <input class="select-field" required type="number" id="height" value="height" name="height" min="1.2" max="2.1" step="0.01">
                <span class="input-group-text" id="basic-addon2">Meters</span>
              </span>
            </div>
            <div class="form-field">            
              <label class="form-field-label" for="cars">Anti-hypertensive Therapy:</label>

              <div class="button-bar hypertension">
                <a class="button button-noMedication active" onclick="setActiveHypertension('noMedication')">No Anti-hypertensive Therapy</a>
                <a class="button button-medication" onclick="setActiveHypertension('medication')">Anti-hypertensive Therapy</a>
              </div>
            </div>

            <div class="form-field-button">
              <button class="submit-button" type="button" onclick="onSubmit(event)" >Calculate</button>
            </div>

            <div class="button-bar footer">
              <a class="button button-model active" onclick="footerDescription('model')">Model Insights</a>
              <a class="button button-discussion" onclick="footerDescription('discussion')">Discussion</a>
            </div>

            <p class="model-insights-description" id="model-insights-description">
              This model is intended for adult individuals considering living kidney donation. It provides a predicted 6-month post-donation serum creatinine and an expected eGFR calculated based on the predicted serum creatinine using the race-free creatinine-based equation (CKD-EPI 2021).
              <br>
              <br>
              The population used for this study included adult (â‰¥18-year-old) living kidney donors who donated a kidney between January 2005 and June 2019 in the United States. The 6-month post-donation serum creatinine was modeled using multivariable linear regression.
            </p>
            <p class="discussion-description" id="discussion-description">
              Consider applying this calculator to inform the living kidney donor candidate of her/his individualized predicted 6-month post-donation kidney function. Post-donation kidney function varies by individual characteristics. The decision-making to accept or decline a donor candidate should engage donor-provider discussions considering living kidney donation risks and benefits per individual case.
            </p>
          </div>

        </form>
          
        </section>

    </div>

  </main>

  <script>
    function calculateMortalityRisk() {
      let age = parseFloat(document.getElementById("age").value);
      let gender = document.getElementById("gender").value;
      let smoking = parseFloat(document.getElementById("smoking").value);
      let cholesterol = parseFloat(document.getElementById("cholesterol").value);

      // Perform calculation here (example calculation)
      let mortalityRisk = (age + smoking + cholesterol) / 10;

      document.getElementById("mortalityRisk").innerText = `Your mortality risk is: ${mortalityRisk.toFixed(2)}%`;
    }
  </script>

  <script src="./assets/js/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

</html>
